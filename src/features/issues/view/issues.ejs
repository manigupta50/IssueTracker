<!-- HTML/CSS for the Issues Page -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style>
        body {
            background-color: black;
            display: block;
            text-align: left;
            max-height:250px;
            overflow-y:scroll;
        }

        section {
            /* display: flex; */
            flex-direction: column;
            /* align-items: center; */
            padding-bottom: 20px;
        }

        #issues-container section:nth-child(2n) {
            background-color: aliceblue;
        }

        section:nth-child(2n + 1) {
            background-color: white;
        }

        .section-heading {
            width: auto;
            padding: 20px 10px 10px;
            font-weight: 400;
        }

        .section-heading span {
            font-size: 40px;
            color: #2857a4;
            display: inline-block;
            /* padding-top: 10px; */
            margin-right: 0.5rem;
        }

        .section-heading button {
            display: relative;
            float: right;
            font-size: 40px;
            color: #2857a4;
            background-color: #151515;
            border: 0;
            margin: 0;
        }

        .section-heading form {
            display: relative;
            float: right;
            font-size: 40px;
            color: #2857a4;
            background-color: #151515;
            border: 0;
            margin: 0;
        }

        .section-heading h1 {
            background-color: black;
        }

        #issues-container {
            width: 100vw;
            box-sizing: border-box;
            display: flex;
            flex-wrap: wrap;
            border: 1px solid white;
            padding: 0 50px;
            margin-bottom: 20px;
            justify-content: space-around;
        }

        .issues-image-container {
            width: 100%;
            height: 10vh;
            min-height: 10vh;
            overflow: hidden;
            margin: 15px;
            background-size: cover;
            background-repeat: no-repeat;
            position: relative;
            float: right;
            border: dashed .5px lightgrey;
        }

        .issues-image-container .issues-details {
            padding: 1rem 0 0 1rem;
        }

        .issues-image-container div {
            display: inline-block;
        }

        .issues-image-container .button-div {
            position: relative;
            float: right;
            padding: 1rem 1rem 0 0;
        }

        span {
            color: black;
        }

        .button-div button {
            margin: 0;
            background-color: coral;
            color: coral;
            border: solid 1px black;
            padding: 1px;
        }

        .button-div form {
            margin: 0;
            background-color: coral;
            border: none;
            border-radius: 5px;
            padding: 1px;

        }

        button:hover {
            box-shadow: 0 0 20px black;
            color: whitesmoke;
        }

        .issues-image-container:hover {
            box-shadow: 0 0 20px #74ADC8;
        }
        
        .issues-image-container:hover .issues-details span {
            color: chocolate;
        }

        /* Filter CSS */
        .filter-container {
            background-color: grey;
        }
        .searchFilter {
            margin-bottom: 20px;    
        }
        .searchFilter.btn {
            display: inline-block;
            font-weight: 400;
            line-height: 1.25;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            border: 1px solid transparent;
            padding: .5rem 1rem;
            font-size: 16px;
            border-radius: .25rem;
            height: 50px;
            min-width: 20px;
        }
        .searchFilter .btn-secondary {
            color: #373a3c;
            background-color: #fff;
            border: 1px solid #ccc;
        }
        .searchFilter .btn-secondary:hover {
            color: #373a3c;
            background-color: #e6e6e6;
            border-color: #adadad;
        }
        .searchFilter .btn-search {
        background-color: #00aced;
        color: #fff;
        border: 1px solid #00aced;
        }
        .searchFilter .btn-search:hover {
        background-color: #b20a11;
        color: #fff;
        border: 1px solid #b20a11;
        }
        .searchFilter .label-icon {
        display: none;  
        }
        .searchFilter .glyphicon {
            margin-right: -15px;
        }
        .searchFilter .dropdown-menu .category_filters {
        min-width: 178px;
        width: 100%;
        margin: 15px 0 0 -25px;
        }
        .searchFilter .dropdown-menu-right {
            right: 170px;
            min-width: 175px;
        top: 90%;
        }
        .searchFilter .dropdown-menu .category_filters li {
        list-style-type: none;
        padding: 2px 10px;
        font-size: 18px;
        }
        .searchFilter .dropdown-menu .category_filters label {
        margin-left: 15px;
        }
        @media (min-width: 1400px) {
        .ct-header .ct-jumbotron .inner {
            max-width: 470px;
            min-height: 230px;
        }  
        }
        @media (max-width: 1400px) {
        .ct-header-slider .item {
            background-size:contain;
            background-repeat: no-repeat;
            background-position: center top;
        }  
        }
        @media (min-width: 769px) and (max-width: 1400px) {
        .ct-header-slider .item {
            height: auto;  
        }
        }
        @media (max-width: 1260px) {
        #dots-container {
            display: none;
        }
        }
        @media (min-width: 992px){
        .ct-footer2 .ct-newsletter {
            max-width: 100%;
        }
        #dots-container {
            bottom: 100px;
        } 
        }
        @media (min-width: 768px){
        .ct-searchbar:before {
            height: 92px;
            bottom: -1px;
        }
        .page-scrolled .navbar .navbar-nav li > * {
            min-height: 67px;
            height: 67px;
        }
        .page-scrolled .navbar .navbar-nav {
            height: 100%!important;
        }
        .ct-current-facts h2 {
            margin: 0 auto 0px;
        }
        .contentNews .ct-recent-news {
            flex-direction: inherit;
        }
        .contentFaq .faq_question .col-sm-11 {
            padding-right: 0px;
        }
        .peopleDetail h2 {
            margin-top: -5px;
        }
        .searchFilter .btn {
            min-width: 172px;  
        }
        .searchFilter .label-icon {
            display: inline-block;  
        }
        .searchFilter .glyphicon {
            margin-right: -5px;
        }
        .ct-header .ct-jumbotron {
            top: 0;
            margin-top: 5%;
        }
        .ct-header .ct-jumbotron h1 {
            font-size: 2.5em;
        }
        .ct-news.ct-news--bigger h3 {
            font-size: 41px;
            line-height: 1.4;
        }
        }
        @media (max-width: 768px){
        .ct-header .ct-jumbotron {  
            width: 80%;
            margin: 20px 10px;
            top: 40%;
            width: 95%;
        }
        .ct-header .ct-jumbotron .inner {
            max-width: 100%;
        }
        #dots-container {
            display: none;
        }
        .main-section {
            margin-top: -80px;
        }
        .searchFilter .dropdown-menu-right {
        right: 0px;
        }
        }
    </style>
    <title>Document</title>
</head>
<body>
    <div id="issues">
    <h1 class="section-heading mb75px">
        <span>
            <i class="fas fa-th-list"></i>
        </span>
        <span> issues </span>
        <form action="/api/issues/<%= projectId %>/create" method="GET">
            <button id="create-btn"><i class="fas fa-plus"></i></button>
        </form>
    </h1>
        <!-- <section id="filter-container"> -->
            <div class="container">
                <div class="row searchFilter" >
                    <div class="col-sm-12" >
                        <div class="input-group" >
                            <form>
                                <input id="table_filter" type="text" class="form-control" name="value" aria-label="Text input with segmented button dropdown" >
                                <div class="input-group-btn" >
                                    <button class="btn btn-secondary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ><span class="label-icon" >Category</span> <span class="caret" >&nbsp;</span></button>
                                    <div class="dropdown-menu dropdown-menu-right" >
                                        <ul class="category_filters" >
                                            <li >
                                                <input type="radio" name="radios" id="Labels" value="labels" checked><label class="category-label" for="Labels" >Labels</label>
                                            </li>
                                            <li >
                                                <input type="radio" name="radios" id="Author" value="author" ><label class="category-label" for="Author" >Author</label>
                                            </li>
                                            <li >
                                                <input type="radio" name="radios" id="Title-Desc" value="title-desc" ><label class="category-label" for="Title-Desc" >Title-Desc</label>
                                            </li>
                                        </ul>
                                    </div>
                                    <button id="searchBtn" type="submit" class="btn btn-secondary btn-search" ><span class="glyphicon glyphicon-search" >&nbsp;</span> <span class="label-icon" >Search</span></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        <!-- </section> -->

        <section id="issues-container">
            <% issues.forEach(issue => { %>
                <div class="issues-image-container">
                    <div class="issues-details">
                        <span>
                            Title: <%= issue.title %>
                        </span>
                        <br/>
                        <span>
                            Description: <%= issue.description %>
                        </span>
                        <br/>
                        <span>
                            Labels: <% issue.labels.forEach(label => { %>
                                [ <span><%= label %></span> ]
                            <% }) %>
                        </span>
                        <br/>
                        <span>
                            Author: <%= issue.author %>
                        </span>
                    </div>
                </div>
            <% }) %>
        </section>
    </div>  
</body>
<!-- <script>
        // To Filter
        function searchFunction (event) {
            const value = document.querySelector('input[name="radios"]:checked').value;
            let url = window.location.href;
            url = url.split("?");
            let newUrl = url[0] + value;
            window.location.href = newUrl;
        }
</script> -->
</html>